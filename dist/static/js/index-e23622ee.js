import{d as W,t as q,k as _,r as i,b as H,o as g,c as S,i as J,j as n,e as o,f as e,aG as Q,h as s,B as V,w as X,g as w,z as Y,_ as Z}from"./index-6f723797.js";import{useRole as ee}from"./hook-79c82577.js";import{P as oe}from"./index-62542beb.js";import{u as r}from"./hooks-ea9aeb9a.js";import{D as ne}from"./delete-6d738bc7.js";import{E as te}from"./edit-pen-af58ba35.js";import{d as le}from"./search-cc37b371.js";import{R as ae}from"./refresh-74425c09.js";import{A as ie}from"./add-circle-line-438b436c.js";import{V as re}from"./view-7a7a84ef.js";import{f as se}from"./caret-bottom-29c97c31.js";import{f as ce}from"./caret-top-26fff531.js";import"./form.vue_vue_type_script_setup_true_lang-c770e756.js";import"./index-80faaafb.js";import"./description.vue_vue_type_style_index_0_lang-eae33156.js";import"./version-e637f255.js";import"./useBasicLayout-67c5ef4f.js";import"./hooks-adef1d89.js";import"./xdteam-1bd5232c.js";import"./epTheme-99efc16e.js";const me={class:"main"},pe={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},de={class:"flex-auto"},fe={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},ue=W({name:"WebVersion",__name:"index",setup(_e){q(()=>{c.value=!z.value});function R(){c.value=!c.value}const c=_(!1),v=_(),C=_(),{form:m,loading:b,columns:D,dataList:$,selectedNum:h,pagination:P,isMobile:z,exportExcel:B,onSearch:p,resetForm:N,openDialog:f,handleDelete:E,onbatchDel:T,onSelectionCancel:A,handleSizeChange:F,handleCurrentChange:I,handleSelectionChange:K}=ee(C);return(ge,l)=>{const M=i("el-input"),u=i("el-form-item"),y=i("el-option"),U=i("el-select"),a=i("el-button"),j=i("el-form"),k=i("el-popconfirm"),G=i("pure-table"),L=H("motion-fade");return g(),S("div",me,[c.value?(g(),J(j,{key:0,ref_key:"formRef",ref:v,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:n(()=>[o(u,{label:"版本号：",prop:"version"},{default:n(()=>[o(M,{modelValue:e(m).version,"onUpdate:modelValue":l[0]||(l[0]=t=>e(m).version=t),placeholder:"请输入版本号",clearable:"",class:"!w-[160px]",onKeyup:l[1]||(l[1]=Q(t=>e(p)(),["enter"]))},null,8,["modelValue"])]),_:1}),o(u,{label:"状态：",prop:"enable"},{default:n(()=>[o(U,{modelValue:e(m).enable,"onUpdate:modelValue":l[2]||(l[2]=t=>e(m).enable=t),placeholder:"请选择",clearable:"",class:"!w-[160px]",onChange:l[3]||(l[3]=t=>e(p)())},{default:n(()=>[o(y,{label:"已激活",value:"1"}),o(y,{label:"已停用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o(u,null,{default:n(()=>[o(a,{type:"primary",icon:e(r)(e(le)),loading:e(b),onClick:e(p)},{default:n(()=>[s(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(r)(e(ae)),onClick:l[4]||(l[4]=t=>e(N)(v.value))},{default:n(()=>[s(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])):V("",!0),o(e(oe),{title:"版本信息",columns:e(D),onRefresh:e(p)},{buttons:n(()=>[o(a,{type:"primary",icon:e(r)(e(ie)),onClick:l[5]||(l[5]=t=>e(f)())},{default:n(()=>[s(" 新增版本 ")]),_:1},8,["icon"]),o(a,{type:"success",onClick:e(B)},{default:n(()=>[s("导出")]),_:1},8,["onClick"]),o(a,{onClick:R,icon:c.value?e(r)(e(ce)):e(r)(e(se))},null,8,["icon"])]),default:n(({size:t,dynamicColumns:O})=>[e(h)>0?X((g(),S("div",pe,[w("div",de,[w("span",fe," 已选 "+Y(e(h))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(A)},{default:n(()=>[s(" 取消选择 ")]),_:1},8,["onClick"])]),o(k,{title:"是否确认删除?",onConfirm:e(T)},{reference:n(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:n(()=>[s(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[L]]):V("",!0),o(G,{"row-key":"id",ref_key:"tableRef",ref:C,adaptive:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(b),size:t,data:e($),stripe:"",columns:O,pagination:e(P),paginationSmall:t==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(K),onPageSizeChange:e(F),onPageCurrentChange:e(I)},{operation:n(({row:d})=>[o(a,{class:"reset-margin",circle:"",type:"primary",size:t,icon:e(r)(e(te)),onClick:x=>e(f)("编辑",d)},null,8,["size","icon","onClick"]),o(a,{class:"reset-margin",circle:"",type:"success",size:t,icon:e(r)(e(re)),onClick:x=>e(f)("查看",d)},null,8,["size","icon","onClick"]),o(k,{title:`是否确认删除版本编号为${d.id}的这条数据`,onConfirm:x=>e(E)(d)},{reference:n(()=>[o(a,{class:"reset-margin",circle:"",type:"danger",size:t,icon:e(r)(e(ne))},null,8,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}});const Fe=Z(ue,[["__scopeId","data-v-3aefc4bc"]]);export{Fe as default};
