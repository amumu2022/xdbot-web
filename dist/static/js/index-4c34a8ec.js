import{d as Q,t as W,k as C,r as s,b as X,o as f,c as y,i as R,j as n,e as l,f as e,F as Y,v as Z,aG as D,h as d,B as P,w as ee,g as z,z as le,_ as oe}from"./index-6f723797.js";import{useRole as te}from"./hook-073217e2.js";import{P as ne}from"./index-62542beb.js";import{u as i}from"./hooks-ea9aeb9a.js";import{D as ae}from"./delete-6d738bc7.js";import{E as re}from"./edit-pen-af58ba35.js";import{d as se}from"./search-cc37b371.js";import{R as ie}from"./refresh-74425c09.js";import{A as pe}from"./add-circle-line-438b436c.js";import{V as ue}from"./view-7a7a84ef.js";import{f as de}from"./caret-bottom-29c97c31.js";import{f as me}from"./caret-top-26fff531.js";import"./form.vue_vue_type_script_setup_true_lang-dd0d1300.js";import"./index-80faaafb.js";import"./description-ede1e5c7.js";import"./useBasicLayout-67c5ef4f.js";import"./xdteam-1bd5232c.js";import"./epTheme-99efc16e.js";const ce={class:"main"},fe={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},_e={class:"flex-auto"},ge={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},ve=Q({name:"AccountSkey",__name:"index",setup(be){W(()=>{m.value=!F.value});function B(){m.value=!m.value}const m=C(!1),k=C(),x=C(),{form:a,loading:h,columns:N,dataList:U,selectedNum:V,pagination:E,isMobile:F,parentTypes:T,exportExcel:A,onSearch:p,resetForm:K,openDialog:g,handleDelete:I,onbatchDel:L,onSelectionCancel:M,handleSizeChange:j,handleCurrentChange:G,handleSelectionChange:O}=te(x);return(Ce,t)=>{const c=s("el-option"),v=s("el-select"),u=s("el-form-item"),w=s("el-input"),r=s("el-button"),q=s("el-form"),S=s("el-popconfirm"),H=s("pure-table"),J=X("motion-fade");return f(),y("div",ce,[m.value?(f(),R(q,{key:0,ref_key:"formRef",ref:k,inline:!0,model:e(a),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:n(()=>[l(u,{label:"所属应用：",prop:"parent"},{default:n(()=>[l(v,{modelValue:e(a).parent,"onUpdate:modelValue":t[0]||(t[0]=o=>e(a).parent=o),placeholder:"请选择",clearable:"",class:"!w-[120px]",onChange:t[1]||(t[1]=o=>e(p)())},{default:n(()=>[(f(!0),y(Y,null,Z(e(T),(o,b)=>(f(),R(c,{key:b,label:o.text,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"卡密：",prop:"skey"},{default:n(()=>[l(w,{modelValue:e(a).skey,"onUpdate:modelValue":t[2]||(t[2]=o=>e(a).skey=o),placeholder:"请输入卡密",clearable:"",class:"!w-[160px]",onKeyup:t[3]||(t[3]=D(o=>e(p)(),["enter"]))},null,8,["modelValue"])]),_:1}),l(u,{label:"状态：",prop:"enable"},{default:n(()=>[l(v,{modelValue:e(a).enable,"onUpdate:modelValue":t[4]||(t[4]=o=>e(a).enable=o),placeholder:"请选择",clearable:"",class:"!w-[120px]",onChange:t[5]||(t[5]=o=>e(p)())},{default:n(()=>[l(c,{label:"已激活",value:!0}),l(c,{label:"已停用",value:!1})]),_:1},8,["modelValue"])]),_:1}),l(u,{label:"使用账号：",prop:"user"},{default:n(()=>[l(w,{modelValue:e(a).user,"onUpdate:modelValue":t[6]||(t[6]=o=>e(a).user=o),placeholder:"请输入使用账号",clearable:"",class:"!w-[160px]",onKeyup:t[7]||(t[7]=D(o=>e(p)(),["enter"]))},null,8,["modelValue"])]),_:1}),l(u,{label:"使用状态：",prop:"status"},{default:n(()=>[l(v,{modelValue:e(a).status,"onUpdate:modelValue":t[8]||(t[8]=o=>e(a).status=o),placeholder:"请选择",clearable:"",class:"!w-[120px]",onChange:t[9]||(t[9]=o=>e(p)())},{default:n(()=>[l(c,{label:"已使用",value:!0}),l(c,{label:"未使用",value:!1})]),_:1},8,["modelValue"])]),_:1}),l(u,null,{default:n(()=>[l(r,{type:"primary",icon:e(i)(e(se)),loading:e(h),onClick:e(p)},{default:n(()=>[d(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),l(r,{icon:e(i)(e(ie)),onClick:t[10]||(t[10]=o=>e(K)(k.value))},{default:n(()=>[d(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])):P("",!0),l(e(ne),{title:"卡密信息",columns:e(N),onRefresh:e(p)},{buttons:n(()=>[l(r,{type:"primary",icon:e(i)(e(pe)),onClick:t[11]||(t[11]=o=>e(g)())},{default:n(()=>[d(" 新增卡密 ")]),_:1},8,["icon"]),l(r,{type:"success",onClick:e(A)},{default:n(()=>[d("导出")]),_:1},8,["onClick"]),l(r,{onClick:B,icon:m.value?e(i)(e(me)):e(i)(e(de))},null,8,["icon"])]),default:n(({size:o,dynamicColumns:b})=>[e(V)>0?ee((f(),y("div",fe,[z("div",_e,[z("span",ge," 已选 "+le(e(V))+" 项 ",1),l(r,{type:"primary",text:"",onClick:e(M)},{default:n(()=>[d(" 取消选择 ")]),_:1},8,["onClick"])]),l(S,{title:"是否确认删除?",onConfirm:e(L)},{reference:n(()=>[l(r,{type:"danger",text:"",class:"mr-1"},{default:n(()=>[d(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[J]]):P("",!0),l(H,{"row-key":"id",ref_key:"tableRef",ref:x,adaptive:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(h),size:o,data:e(U),stripe:"",columns:b,pagination:e(E),paginationSmall:o==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(O),onPageSizeChange:e(j),onPageCurrentChange:e(G)},{operation:n(({row:_})=>[l(r,{class:"reset-margin",circle:"",type:"primary",size:o,icon:e(i)(e(re)),onClick:$=>e(g)("编辑",_)},null,8,["size","icon","onClick"]),l(r,{class:"reset-margin",circle:"",type:"success",size:o,icon:e(i)(e(ue)),onClick:$=>e(g)("查看",_)},null,8,["size","icon","onClick"]),l(S,{title:`是否确认删除卡密编号为${_.id}的这条数据`,onConfirm:$=>e(I)(_)},{reference:n(()=>[l(r,{class:"reset-margin",circle:"",type:"danger",size:o,icon:e(i)(e(ae))},null,8,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}});const Ae=oe(ve,[["__scopeId","data-v-37afb4d0"]]);export{Ae as default};
