import{u as U}from"./form.vue_vue_type_script_setup_true_lang-25463266.js";import{P as q}from"./index-62542beb.js";import{u as s}from"./hooks-ea9aeb9a.js";import{D as G}from"./delete-6d738bc7.js";import{E as H}from"./edit-pen-af58ba35.js";import{d as J}from"./search-cc37b371.js";import{R as K}from"./refresh-74425c09.js";import{A as M}from"./add-circle-line-438b436c.js";import{d as Q,k,r,b as W,o as c,c as f,e as o,j as t,f as e,F as X,v as Y,i as Z,h as i,w as ee,g as x,z as oe,B as te,_ as ne}from"./index-6f723797.js";import"./index-80faaafb.js";import"./corn-83152c75.js";import"./fileDetial-7826ecf9.js";import"./dock-ec7e72b8.js";import"./hooks-2dd4676b.js";import"./xdteam-1bd5232c.js";import"./useBasicLayout-67c5ef4f.js";import"./epTheme-99efc16e.js";const le={class:"main"},ae={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},re={class:"flex-auto"},ie={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},se=Q({name:"SchedulerTask",__name:"index",setup(ce){const u=k(),g=k(),{form:m,loading:C,columns:S,dataList:R,selectedNum:h,pagination:w,onSearch:d,resetForm:D,openDialog:v,exportExcel:P,handleDelete:V,taskTypeOptions:z,onbatchDel:B,onSelectionCancel:$,handleSizeChange:N,handleCurrentChange:T,handleSelectionChange:E}=U(g);return(me,l)=>{const F=r("el-option"),A=r("el-select"),y=r("el-form-item"),a=r("el-button"),I=r("el-form"),b=r("el-popconfirm"),L=r("pure-table"),O=W("motion-fade");return c(),f("div",le,[o(I,{ref_key:"formRef",ref:u,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(y,{label:"任务类型：",prop:"id_code"},{default:t(()=>[o(A,{modelValue:e(m).id_code,"onUpdate:modelValue":l[0]||(l[0]=n=>e(m).id_code=n),placeholder:"请选择任务类型",clearable:"",class:"!w-[160px]",onChange:l[1]||(l[1]=n=>e(d)())},{default:t(()=>[(c(!0),f(X,null,Y(e(z),(n,p)=>(c(),Z(F,{key:p,label:n.label,value:n.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(y,null,{default:t(()=>[o(a,{type:"primary",icon:e(s)(e(J)),loading:e(C),onClick:e(d)},{default:t(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(s)(e(K)),onClick:l[2]||(l[2]=n=>e(D)(u.value))},{default:t(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(q),{title:"任务列表",columns:e(S),onRefresh:e(d)},{buttons:t(()=>[o(a,{type:"primary",icon:e(s)(e(M)),onClick:l[3]||(l[3]=n=>e(v)())},{default:t(()=>[i(" 新增任务 ")]),_:1},8,["icon"]),o(a,{type:"success",onClick:e(P)},{default:t(()=>[i("导出")]),_:1},8,["onClick"])]),default:t(({size:n,dynamicColumns:p})=>[e(h)>0?ee((c(),f("div",ae,[x("div",re,[x("span",ie," 已选 "+oe(e(h))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e($)},{default:t(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(b,{title:"是否确认删除?",onConfirm:e(B)},{reference:t(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[O]]):te("",!0),o(L,{"row-key":"id",ref_key:"tableRef",ref:g,adaptive:"",stripe:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(C),size:n,data:e(R),columns:p,pagination:e(w),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(E),onPageSizeChange:e(N),onPageCurrentChange:e(T)},{operation:t(({row:_})=>[o(a,{class:"reset-margin",type:"primary",size:n,icon:e(s)(e(H)),circle:"",onClick:j=>e(v)("编辑",_)},null,8,["size","icon","onClick"]),o(b,{title:`是否确认删除任务编号编号为${_.id_code}的这条数据`,onConfirm:j=>e(V)(_)},{reference:t(()=>[o(a,{class:"reset-margin",circle:"",type:"danger",size:n,icon:e(s)(e(G))},null,8,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}});const Pe=ne(se,[["__scopeId","data-v-623f4dd7"]]);export{Pe as default};
