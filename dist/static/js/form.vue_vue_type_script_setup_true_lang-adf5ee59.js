import{R as i}from"./index-80faaafb.js";import{Y as I,d as R,k as p,r as s,o as k,i as C,j as l,e,f as r,g as U,h as Y,ay as f}from"./index-6f723797.js";const q={width:24,height:24,body:'<path fill="currentColor" d="M4 19h16v-7h2v8a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1v-8h2v7Zm9-10v7h-2V9H6l6-6l6 6h-5Z"/>'},B=q,H=I({custom:[{required:!0,message:"客户名称为必填项",trigger:"blur"}],filelist:[{required:!0,message:"图片不能为空",trigger:"blur"}],end_time:[{required:!0,message:"日期不能为空",trigger:"blur"}],alt:[{required:!0,message:"跳转地址为必填项",trigger:"blur"}]}),M={class:"el-upload__text"},N=R({__name:"form",props:{formInline:{default:()=>({title:"新增",custom:"",alt:"",src:"",filelist:[],end_time:"",enable:!0})}},setup(c,{expose:_}){const g=c,m=p(),t=p(g.formInline),v=d=>{const o=d.name.split(".").pop().toLowerCase(),u=5*1024*1024;if(["png","jpg","jpeg","ico","gif","bmp"].includes(o)){if(d.size>u)return f("选择的文件不能超过 5MB ",{type:"warning"}),!1}else{f("操作失败，图片格式错误",{type:"error"});return}return!0};function b(){return m.value}return _({getRef:b}),(d,o)=>{const u=s("el-input"),n=s("el-form-item"),x=s("IconifyIconOffline"),V=s("el-upload"),w=s("el-date-picker"),h=s("el-row"),y=s("el-form");return k(),C(y,{ref_key:"ruleFormRef",ref:m,model:t.value,rules:r(H),"label-width":"100px"},{default:l(()=>[e(h,{gutter:30},{default:l(()=>[e(r(i),{lg:24,xs:24,sm:24},{default:l(()=>[e(n,{label:"客户名称：",prop:"custom"},{default:l(()=>[e(u,{modelValue:t.value.custom,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value.custom=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(r(i),{lg:24,xs:24,sm:24},{default:l(()=>[e(n,{label:"跳转地址：",prop:"alt"},{default:l(()=>[e(u,{modelValue:t.value.alt,"onUpdate:modelValue":o[1]||(o[1]=a=>t.value.alt=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(r(i),{lg:24,xs:24,sm:24},{default:l(()=>[e(n,{label:"图片:",prop:"filelist"},{default:l(()=>[e(V,{ref:"uploadRef","file-list":t.value.filelist,"onUpdate:fileList":o[2]||(o[2]=a=>t.value.filelist=a),drag:"","list-type":"picture",limit:1,multiple:"",disabled:t.value.filelist.length>=1,class:"!w-[200px]","auto-upload":!1,"before-upload":v},{default:l(()=>[U("div",M,[e(x,{icon:r(B),width:"26",class:"m-auto mb-2"},null,8,["icon"]),Y(" 可点击或拖拽上传 ")])]),_:1},8,["file-list","disabled"])]),_:1})]),_:1}),e(r(i),{value:24,xs:24,sm:24},{default:l(()=>[e(n,{label:"到期时间",prop:"end_time"},{default:l(()=>[e(w,{modelValue:t.value.end_time,"onUpdate:modelValue":o[3]||(o[3]=a=>t.value.end_time=a),type:"datetime",class:"!w-[200px]",placeholder:"请选择日期时间","value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{N as _};
