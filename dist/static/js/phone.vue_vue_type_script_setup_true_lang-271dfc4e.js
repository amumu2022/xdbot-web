import{M as i}from"./motion-cff095c2.js";import{d as b,k as v,Y as h,r as d,o as w,i as R,j as l,e,f as o,g as N,h as c,z,ay as B,aw as T}from"./index-6f723797.js";import{u as _,p as U}from"./verifyCode-7c47b874.js";import{u as C}from"./hooks-ea9aeb9a.js";import{d as F}from"./iphone-bcaa848c.js";const S={class:"flex justify-between w-full"},A=b({__name:"phone",props:{currentPage:{type:Number,default:1}},setup(j){const s=v(!1),t=h({phone:"",verifyCode:""}),f=v(),{isDisabled:g,text:y}=_(),k=async p=>{s.value=!0,p&&await p.validate((a,r)=>{if(a)setTimeout(()=>{B("登录成功",{type:"success"}),s.value=!1},2e3);else return s.value=!1,r})};function x(){_().end(),T().SET_CURRENTPAGE(0)}return(p,a)=>{const r=d("el-input"),u=d("el-form-item"),m=d("el-button"),V=d("el-form");return w(),R(V,{ref_key:"ruleFormRef",ref:f,model:t,rules:o(U),size:"large"},{default:l(()=>[e(o(i),null,{default:l(()=>[e(u,{prop:"phone"},{default:l(()=>[e(r,{clearable:"",modelValue:t.phone,"onUpdate:modelValue":a[0]||(a[0]=n=>t.phone=n),placeholder:"手机号码","prefix-icon":o(C)(o(F))},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1}),e(o(i),{delay:100},{default:l(()=>[e(u,{prop:"verifyCode"},{default:l(()=>[N("div",S,[e(r,{clearable:"",modelValue:t.verifyCode,"onUpdate:modelValue":a[1]||(a[1]=n=>t.verifyCode=n),placeholder:"短信验证码","prefix-icon":o(C)("ri:shield-keyhole-line")},null,8,["modelValue","prefix-icon"]),e(m,{disabled:o(g),class:"ml-2",onClick:a[2]||(a[2]=n=>o(_)().start(f.value,"phone"))},{default:l(()=>[c(z(o(y).length>0?o(y)+"秒后重新获取":"获取验证码"),1)]),_:1},8,["disabled"])])]),_:1})]),_:1}),e(o(i),{delay:150},{default:l(()=>[e(u,null,{default:l(()=>[e(m,{class:"w-full",size:"default",type:"primary",loading:s.value,onClick:a[3]||(a[3]=n=>k(f.value))},{default:l(()=>[c(" 登录 ")]),_:1},8,["loading"])]),_:1})]),_:1}),e(o(i),{delay:200},{default:l(()=>[e(u,null,{default:l(()=>[e(m,{class:"w-full",size:"default",onClick:x},{default:l(()=>[c(" 返回 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{A as _};
