import{d as J,k as w,ak as Q,r as d,o as h,i as W,j as t,e as l,f as u,U as C,c as z,F as U,v as A,h as v,g as M,ay as m}from"./index-6f723797.js";import{f as I}from"./rule-95849c03.js";import{S as O}from"./save-3-fill-02caf019.js";import{d as B}from"./orange-3bd0a242.js";import{u as y}from"./hooks-ea9aeb9a.js";import{U as F,b as P}from"./dock-ec7e72b8.js";const X=M("div",null," Decision making: giving advices about operations is acceptable, but do not make decisions for the users; ",-1),Y=M("div",null," Controlled consequences: users should be granted the freedom to operate, including canceling, aborting or terminating current operation. ",-1),ue=J({__name:"ai",props:{formInline:{default:()=>({chatgpt:{chat_key:"",proxy:"",model:"gpt-3.5-turbo",max_tokens:"3000",continuousConversation:!0},ai:{type:1},zhipu:{chat_key:"",model:"glm-3-turbo",max_tokens:"3000",continuousConversation:!0}})}},setup(S){const D=S,T=w("1"),G=[{value:"gpt-3.5-turbo",label:"gpt-3.5-turbo"},{value:1,label:"纯文本"}],K=[{value:"glm-4",label:"glm-4"},{value:"glm-3-turbo",label:"glm-3-turbo"},{value:"characterglm",label:"characterglm"}],Z=[{value:1,label:"ChatGPT"},{value:2,label:"智谱AI大模型"},{value:3,label:"讯飞星火"},{value:4,label:"文心一言"}],x=w();async function $(){const s={name:"chatgpt",data:n.value.chatgpt},e=await F("chatgpt",s);e.success?(m(e.message,{type:"success"}),r()):m(`操作失败，${e.message}`,{type:"warning"})}async function r(){const s={name:"chatgpt"},{data:e}=await P(s);if(e.length!=0){const a=e[0].data;n.value.chatgpt={chat_key:a==null?void 0:a.chat_key,proxy:a==null?void 0:a.proxy,model:a==null?void 0:a.model,max_tokens:a==null?void 0:a.max_tokens,continuousConversation:a==null?void 0:a.continuousConversation}}}async function H(){const s={name:"ai",data:n.value.ai},e=await F("ai",s);e.success?(m(e.message,{type:"success"}),r()):m(`操作失败，${e.message}`,{type:"warning"})}async function j(){const s={name:"ai"},{data:e}=await P(s);if(e.length!=0){const a=e[0].data;n.value.ai={type:a==null?void 0:a.type}}}async function q(){const s={name:"zhipu",data:n.value.zhipu},e=await F("zhipu",s);e.success?(m(e.message,{type:"success"}),r()):m(`操作失败，${e.message}`,{type:"warning"})}async function N(){const s={name:"zhipu"},{data:e}=await P(s);if(e.length!=0){const a=e[0].data;n.value.zhipu={chat_key:a==null?void 0:a.chat_key,model:a==null?void 0:a.model,max_tokens:a==null?void 0:a.max_tokens,continuousConversation:a==null?void 0:a.continuousConversation}}}const n=w(D.formInline);return Q(()=>{r(),N(),j()}),(s,e)=>{const a=d("el-option"),b=d("el-select"),i=d("el-form-item"),p=d("el-col"),c=d("el-button"),V=d("el-row"),k=d("el-form"),g=d("el-collapse-item"),_=d("el-input"),R=d("el-switch"),E=d("el-collapse"),L=d("el-card");return h(),W(L,null,{default:t(()=>[l(E,{accordion:"",modelValue:T.value,"onUpdate:modelValue":e[13]||(e[13]=o=>T.value=o)},{default:t(()=>[l(g,{title:"AI 设置",name:"1"},{default:t(()=>[l(k,{model:n.value,ref_key:"formRef",ref:x,rules:u(I),"label-position":"left","label-width":"80px",size:"default",onSubmit:e[1]||(e[1]=C(()=>{},["prevent"]))},{default:t(()=>[l(V,null,{default:t(()=>[l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"Ai 模型",prop:"type"},{default:t(()=>[l(b,{modelValue:n.value.ai.type,"onUpdate:modelValue":e[0]||(e[0]=o=>n.value.ai.type=o),clearable:""},{default:t(()=>[(h(),z(U,null,A(Z,(o,f)=>l(a,{key:f,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(c,{type:"success",icon:u(y)(u(O)),onClick:H},{default:t(()=>[v("保存设置")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),l(g,{title:"ChatGPT",name:"2"},{default:t(()=>[l(k,{model:n.value,ref_key:"formRef",ref:x,rules:u(I),"label-position":"left","label-width":"80px",size:"default",onSubmit:e[7]||(e[7]=C(()=>{},["prevent"]))},{default:t(()=>[l(V,null,{default:t(()=>[l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"Ai Key",prop:"chat_key"},{default:t(()=>[l(_,{modelValue:n.value.chatgpt.chat_key,"onUpdate:modelValue":e[2]||(e[2]=o=>n.value.chatgpt.chat_key=o),type:"password",clearable:"",placeholder:"请输入OpenAi Key"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"代理地址",prop:"proxy"},{default:t(()=>[l(_,{modelValue:n.value.chatgpt.proxy,"onUpdate:modelValue":e[3]||(e[3]=o=>n.value.chatgpt.proxy=o),type:"text",clearable:"",placeholder:"请输入代理地址"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"单次回复",prop:"max_tokens"},{default:t(()=>[l(_,{modelValue:n.value.chatgpt.max_tokens,"onUpdate:modelValue":e[4]||(e[4]=o=>n.value.chatgpt.max_tokens=o),type:"text",clearable:"",placeholder:"单次交互所用的最大 Token 数"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"连续对话",prop:"continuousConversation"},{default:t(()=>[l(R,{modelValue:n.value.chatgpt.continuousConversation,"onUpdate:modelValue":e[5]||(e[5]=o=>n.value.chatgpt.continuousConversation=o),"inline-prompt":"",class:"switch","active-text":"ON","inactive-text":"OFF"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"Ai 模型",prop:"model"},{default:t(()=>[l(b,{modelValue:n.value.chatgpt.model,"onUpdate:modelValue":e[6]||(e[6]=o=>n.value.chatgpt.model=o),clearable:""},{default:t(()=>[(h(),z(U,null,A(G,(o,f)=>l(a,{key:f,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(c,{type:"success",icon:u(y)(u(O)),onClick:$},{default:t(()=>[v("保存设置")]),_:1},8,["icon"]),l(c,{type:"danger",icon:u(y)(u(B)),onClick:r},{default:t(()=>[v("重载")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),l(g,{title:"智谱AI大模型",name:"3"},{default:t(()=>[l(k,{model:n.value,ref_key:"formRef",ref:x,rules:u(I),"label-position":"left","label-width":"80px",size:"default",onSubmit:e[12]||(e[12]=C(()=>{},["prevent"]))},{default:t(()=>[l(V,null,{default:t(()=>[l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"Ai Key",prop:"chat_key"},{default:t(()=>[l(_,{modelValue:n.value.zhipu.chat_key,"onUpdate:modelValue":e[8]||(e[8]=o=>n.value.zhipu.chat_key=o),type:"password",clearable:"",placeholder:"请输入OpenAi Key"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"单次回复",prop:"max_tokens"},{default:t(()=>[l(_,{modelValue:n.value.zhipu.max_tokens,"onUpdate:modelValue":e[9]||(e[9]=o=>n.value.zhipu.max_tokens=o),type:"text",clearable:"",placeholder:"单次交互所用的最大 Token 数"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"连续对话",prop:"continuousConversation"},{default:t(()=>[l(R,{modelValue:n.value.zhipu.continuousConversation,"onUpdate:modelValue":e[10]||(e[10]=o=>n.value.zhipu.continuousConversation=o),"inline-prompt":"",class:"switch","active-text":"ON","inactive-text":"OFF"},null,8,["modelValue"])]),_:1})]),_:1}),l(p,{md:24,sm:24,xs:24},{default:t(()=>[l(i,{label:"Ai 模型",prop:"model"},{default:t(()=>[l(b,{modelValue:n.value.zhipu.model,"onUpdate:modelValue":e[11]||(e[11]=o=>n.value.zhipu.model=o),clearable:""},{default:t(()=>[(h(),z(U,null,A(K,(o,f)=>l(a,{key:f,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(c,{type:"success",icon:u(y)(u(O)),onClick:q},{default:t(()=>[v("保存设置")]),_:1},8,["icon"]),l(c,{type:"danger",icon:u(y)(u(B)),onClick:N},{default:t(()=>[v("重载")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])]),_:1}),l(g,{title:"讯飞星火",name:"4"},{default:t(()=>[X,Y]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{ue as _};
