import{i as F}from"./monitor-98a23e5d.js";import{d as V,k as s,ak as A,r as n,b as L,w as U,o as c,c as I,e,j as a,F as k,v as T,i as j,h as M,z as N,ah as z,ai as E,g as p,_ as R}from"./index-6f723797.js";const f=i=>(z("data-v-15904c64"),i=i(),E(),i),W={class:"main"},q=f(()=>p("span",null,"CPU",-1)),H=f(()=>p("span",null,"内存",-1)),J=f(()=>p("span",null,"服务器信息",-1)),K=f(()=>p("span",null,"Python信息",-1)),O=f(()=>p("span",null,"磁盘状态",-1)),Q=V({name:"ServersMonitor",__name:"index",setup(i){const v=s(!0),y=s([]),b=s([]),w=s([]),g=s([]),B=s([]);async function C(){v.value=!0;const{data:_}=await F().finally(()=>{v.value=!1}),l=_;y.value=[{field:"核心数",value:l.cpuInfo.cpuNum},{field:"用户使用率",value:l.cpuInfo.used+"%"},{field:"系统使用率",value:l.cpuInfo.sys+"%"},{field:"当前空闲率",value:l.cpuInfo.free+"%"}],b.value=[{field:"总内存",machine:l.memoryInfo.total+"GB",jvm:l.SwapmemoryInfo.total+"MB"},{field:"已用内存",machine:l.memoryInfo.used+"GB",jvm:l.SwapmemoryInfo.used+"MB"},{field:"剩余内存",machine:l.memoryInfo.free+"GB",jvm:l.SwapmemoryInfo.free+"MB"},{field:"使用率",machine:l.memoryInfo.usage+"%",jvm:l.SwapmemoryInfo.usage+"%",warning:l.SwapmemoryInfo.usage>30}],w.value=[{field:"服务器名称",value:l.systemInfo.computerName},{field:"操作系统",value:l.systemInfo.osName},{field:"服务器IP",value:l.systemInfo.computerIp},{field:"系统架构",value:l.systemInfo.osArch}],g.value=[{field:"Python名称",value:"Cpython",span:1},{field:"Python版本",value:l.python,span:1},{field:"启动时间",value:l.systemInfo.startTime,span:1},{field:"运行时长",value:l.systemInfo.runTime,span:1}],B.value=l.diskInfos}function G({row:_}){if(_.warning)return"text-red-500"}return A(()=>{C()}),(_,l)=>{const o=n("el-table-column"),h=n("el-table"),r=n("el-card"),d=n("el-col"),u=n("el-row"),x=n("el-descriptions-item"),S=n("el-descriptions"),P=L("loading");return U((c(),I("div",W,[e(u,{gutter:30},{default:a(()=>[e(d,{lg:12,xs:24,sm:24,class:"card-box"},{default:a(()=>[e(r,{shadow:"hover"},{header:a(()=>[q]),default:a(()=>[e(h,{data:y.value,"show-header":!0,style:{width:"100%"}},{default:a(()=>[e(o,{prop:"field",label:"属性"}),e(o,{prop:"value",label:"值"})]),_:1},8,["data"])]),_:1})]),_:1}),e(d,{lg:12,xs:24,sm:24},{default:a(()=>[e(r,{shadow:"hover"},{header:a(()=>[H]),default:a(()=>[e(h,{data:b.value,"show-header":!0,style:{width:"100%"},"cell-class-name":G},{default:a(()=>[e(o,{prop:"field",label:"属性"}),e(o,{prop:"machine",label:"服务器"}),e(o,{prop:"jvm",label:"虚拟内存"})]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(d,{span:24},{default:a(()=>[e(r,{shadow:"hover"},{header:a(()=>[J]),default:a(()=>[e(S,{column:2},{default:a(()=>[(c(!0),I(k,null,T(w.value,(t,m)=>(c(),j(x,{key:m,label:t.field},{default:a(()=>[M(N(t.value),1)]),_:2},1032,["label"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(u,{gutter:20},{default:a(()=>[e(d,{span:24},{default:a(()=>[e(r,{shadow:"hover"},{header:a(()=>[K]),default:a(()=>[e(S,{column:2},{default:a(()=>[(c(!0),I(k,null,T(g.value,(t,m)=>(c(),j(x,{key:m,label:t.field,span:t.span},{default:a(()=>[M(N(t.value),1)]),_:2},1032,["label","span"]))),128))]),_:1})]),_:1})]),_:1})]),_:1}),e(u,null,{default:a(()=>[e(d,{span:24},{default:a(()=>[e(r,{shadow:"hover"},{header:a(()=>[O]),default:a(()=>[e(h,{data:B.value,"show-header":!0,style:{width:"100%"}},{default:a(()=>[e(o,{prop:"name",label:"盘符名称"}),e(o,{prop:"total",label:"总大小 (GB)"}),e(o,{prop:"Free",label:"可用大小 (GB)"}),e(o,{prop:"Used",label:"已用大小 (GB)"}),e(o,{prop:"Read",label:"读取速度 (MB/s)"}),e(o,{prop:"Write",label:"写入速度 (MB/s)"}),e(o,{prop:"usage",label:"已用百分比",formatter:(t,m,D)=>D+"%",width:"180"},null,8,["formatter"])]),_:1},8,["data"])]),_:1})]),_:1})]),_:1}),e(u)])),[[P,v.value]])}}});const Z=R(Q,[["__scopeId","data-v-15904c64"]]);export{Z as default};
