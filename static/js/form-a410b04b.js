/* empty css              */import{C as CodeEditor}from"./codeEditor-08c5f378.js";import{$ as reactive,d as defineComponent,aP as Oo,k as ref,r as resolveComponent,o as openBlock,i as createBlock,j as withCtx,e as createVNode,f as unref,h as createTextVNode,aJ as addDialog,S as message,ag as h,_ as _export_sfc}from"./index-9cea40a6.js";import{_ as _sfc_main$1}from"./formPrimitive.vue_vue_type_script_setup_true_lang-c7783394.js";import{R as ReCol}from"./index-17695056.js";const formRules=reactive({name:[{required:!0,message:"插件名称为必填项",trigger:"blur"}],folder:[{required:!0,message:"文件夹名称为必填项",trigger:"blur"}],image:[{required:!0,message:"图片链接为必填项",trigger:"blur"}],code:[{required:!0,message:"插件代码不能为空",trigger:"blur"}]}),_sfc_main=defineComponent({__name:"form",props:{formInline:{default:()=>({title:"新增",name:"",code:"",version:"",author:"",type:"",folder:"",image:"",url:"",path:""})}},setup(__props,{expose:__expose}){const props=__props,{clipboardValue,copied}=Oo(),ruleFormRef=ref(),newFormInline=ref(props.formInline),formPrimitiveParam=ref(""),resetFormPrimitiveParam=ref(formPrimitiveParam.value);function InputData(){addDialog({width:"30%",title:"导入数据",contentRenderer:()=>h(_sfc_main$1,{data:formPrimitiveParam.value,"onUpdate:data":l=>formPrimitiveParam.value=l}),closeCallBack:()=>{const data=eval("("+formPrimitiveParam.value+")");newFormInline.value.name=data.name,newFormInline.value.code=decodeURIComponent(atob(data.code)),newFormInline.value.version=data.version,newFormInline.value.author=decodeURIComponent(atob(data.author)),newFormInline.value.type=decodeURIComponent(atob(data.type)),newFormInline.value.folder=data.folder,newFormInline.value.image=decodeURIComponent(atob(data.image)),newFormInline.value.url=decodeURIComponent(atob(data.url)),newFormInline.value.path=data.path,formPrimitiveParam.value=resetFormPrimitiveParam.value}})}function OutputData(l){const e=t=>t?btoa(encodeURIComponent(t)):"",a={name:l.name,version:l.version,folder:l.folder,path:l.path,code:e(l.code),author:e(l.author),rule:e(l.rule),image:e(l.image),url:e(l.url)};clipboardValue.value=JSON.stringify(a),copied.value?message("导出成功",{type:"success"}):message("导出失败",{type:"warning"})}function getRef(){return ruleFormRef.value}return __expose({getRef}),(l,e)=>{const a=resolveComponent("el-input"),t=resolveComponent("el-form-item"),n=resolveComponent("el-col"),r=resolveComponent("el-button"),m=resolveComponent("el-row"),u=resolveComponent("el-main"),d=resolveComponent("el-form");return openBlock(),createBlock(d,{ref_key:"ruleFormRef",ref:ruleFormRef,model:newFormInline.value,rules:unref(formRules),"label-width":"82px"},{default:withCtx(()=>[createVNode(u,null,{default:withCtx(()=>[createVNode(m,{gutter:15},{default:withCtx(()=>[createVNode(unref(ReCol),{value:12,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"插件名称",prop:"name"},{default:withCtx(()=>[newFormInline.value.title!=="编辑"?(openBlock(),createBlock(a,{key:0,modelValue:newFormInline.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>newFormInline.value.name=o),clearable:"",placeholder:"请输入插件名称"},null,8,["modelValue"])):(openBlock(),createBlock(a,{key:1,modelValue:newFormInline.value.name,"onUpdate:modelValue":e[1]||(e[1]=o=>newFormInline.value.name=o),clearable:"",readonly:"",placeholder:"请输入插件名称"},null,8,["modelValue"]))]),_:1})]),_:1}),createVNode(unref(ReCol),{value:12,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"文件名称",prop:"folder"},{default:withCtx(()=>[newFormInline.value.title!=="编辑"?(openBlock(),createBlock(a,{key:0,modelValue:newFormInline.value.folder,"onUpdate:modelValue":e[2]||(e[2]=o=>newFormInline.value.folder=o),clearable:"",placeholder:"请输入文件名称"},null,8,["modelValue"])):(openBlock(),createBlock(a,{key:1,modelValue:newFormInline.value.folder,"onUpdate:modelValue":e[3]||(e[3]=o=>newFormInline.value.folder=o),clearable:"",readonly:"",placeholder:"请输入文件名称"},null,8,["modelValue"]))]),_:1})]),_:1}),createVNode(unref(ReCol),{value:24,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"插件图片",prop:"image"},{default:withCtx(()=>[createVNode(a,{modelValue:newFormInline.value.image,"onUpdate:modelValue":e[4]||(e[4]=o=>newFormInline.value.image=o),clearable:"",placeholder:"请输入插件图片链接"},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(unref(ReCol),{value:8,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"插件作者",prop:"author"},{default:withCtx(()=>[createVNode(a,{modelValue:newFormInline.value.author,"onUpdate:modelValue":e[5]||(e[5]=o=>newFormInline.value.author=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(unref(ReCol),{value:8,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"Version",prop:"version"},{default:withCtx(()=>[createVNode(a,{modelValue:newFormInline.value.version,"onUpdate:modelValue":e[6]||(e[6]=o=>newFormInline.value.version=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(unref(ReCol),{value:8,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"插件标签",prop:"type"},{default:withCtx(()=>[createVNode(a,{modelValue:newFormInline.value.type,"onUpdate:modelValue":e[7]||(e[7]=o=>newFormInline.value.type=o),clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),createVNode(n,{value:24,xs:24,sm:24},{default:withCtx(()=>[createVNode(t,{label:"函数内容",prop:"code"},{default:withCtx(()=>[createVNode(CodeEditor,{code:newFormInline.value.code,"onUpdate:code":e[8]||(e[8]=o=>newFormInline.value.code=o),language:"python",height:"450px"},null,8,["code"])]),_:1})]),_:1}),createVNode(n,{value:12,xs:24,sm:24},{default:withCtx(()=>[createVNode(r,{class:"button-margin",type:"success",onClick:e[9]||(e[9]=o=>OutputData(newFormInline.value))},{default:withCtx(()=>[createTextVNode("导出数据")]),_:1}),createVNode(r,{class:"button-margin",type:"danger",onClick:e[10]||(e[10]=o=>InputData())},{default:withCtx(()=>[createTextVNode("导入数据")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])}}}),form_vue_vue_type_style_index_0_scoped_891df49c_lang="",editForm=_export_sfc(_sfc_main,[["__scopeId","data-v-891df49c"]]);export{editForm as default};
