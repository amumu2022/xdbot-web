import{d as O,t as U,k as f,r as i,b as q,o as u,c as k,i as H,j as t,e as o,f as e,aG as J,h as s,B as x,w as Q,g as S,z as W,_ as X}from"./index-9cea40a6.js";import{useRole as Y}from"./hook-8834bcee.js";import{D as Z,P as ee}from"./delete-667b307a.js";import{u as r}from"./hooks-678b71c4.js";import{A as oe}from"./caret-bottom-d671d9b4.js";import{f as te}from"./caret-top-26fff531.js";import{E as ne}from"./edit-pen-af58ba35.js";import{d as ae}from"./search-cc37b371.js";import{R as le}from"./refresh-74425c09.js";import{A as re}from"./add-circle-line-438b436c.js";import"./form-cd12a50e.js";import"./codeEditor-08c5f378.js";import"./index-17695056.js";import"./dock-9ddcdacf.js";import"./useBasicLayout-7ee1042a.js";import"./xdteam-5bf4004a.js";import"./epTheme-f381a1a7.js";const ie={class:"main"},se={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},ce={class:"flex-auto"},me={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},pe=O({name:"FeaturesScript",__name:"index",setup(de){U(()=>{c.value=!N.value});function w(){c.value=!c.value}const c=f(!1),_=f(),g=f(),{form:m,loading:C,columns:R,dataList:D,selectedNum:h,pagination:P,onSearch:p,exportExcel:V,resetForm:z,openDialog:v,handleDelete:B,onbatchDel:$,isMobile:N,onSelectionCancel:A,handleSizeChange:E,handleCurrentChange:F,handleSelectionChange:T}=Y(g);return(fe,l)=>{const I=i("el-input"),y=i("el-form-item"),n=i("el-button"),K=i("el-form"),b=i("el-popconfirm"),M=i("pure-table"),j=q("motion-fade");return u(),k("div",ie,[c.value?(u(),H(K,{key:0,ref_key:"formRef",ref:_,inline:!0,model:e(m),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:t(()=>[o(y,{label:"脚本名称：",prop:"name"},{default:t(()=>[o(I,{modelValue:e(m).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(m).name=a),placeholder:"请输入脚本名称",clearable:"",class:"!w-[160px]",onKeyup:l[1]||(l[1]=J(a=>e(p)(),["enter"]))},null,8,["modelValue"])]),_:1}),o(y,null,{default:t(()=>[o(n,{type:"primary",icon:e(r)(e(ae)),loading:e(C),onClick:e(p)},{default:t(()=>[s(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(n,{icon:e(r)(e(le)),onClick:l[2]||(l[2]=a=>e(z)(_.value))},{default:t(()=>[s(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])):x("",!0),o(e(ee),{title:"脚本列表",columns:e(R),onRefresh:e(p)},{buttons:t(()=>[o(n,{type:"primary",icon:e(r)(e(re)),onClick:l[3]||(l[3]=a=>e(v)())},{default:t(()=>[s(" 新增脚本 ")]),_:1},8,["icon"]),o(n,{type:"success",onClick:e(V)},{default:t(()=>[s("导出")]),_:1},8,["onClick"]),o(n,{onClick:w,icon:c.value?e(r)(e(te)):e(r)(e(oe))},null,8,["icon"])]),default:t(({size:a,dynamicColumns:G})=>[e(h)>0?Q((u(),k("div",se,[S("div",ce,[S("span",me," 已选 "+W(e(h))+" 项 ",1),o(n,{type:"primary",text:"",onClick:e(A)},{default:t(()=>[s(" 取消选择 ")]),_:1},8,["onClick"])]),o(b,{title:"是否确认删除?",onConfirm:e($)},{reference:t(()=>[o(n,{type:"danger",text:"",class:"mr-1"},{default:t(()=>[s(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[j]]):x("",!0),o(M,{"row-key":"id",ref_key:"tableRef",ref:g,adaptive:"",stripe:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(C),size:a,data:e(D),columns:G,pagination:e(P),paginationSmall:a==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(T),onPageSizeChange:e(E),onPageCurrentChange:e(F)},{operation:t(({row:d})=>[o(n,{class:"reset-margin",circle:"",type:"primary",size:a,icon:e(r)(e(ne)),onClick:L=>e(v)("编辑",d)},null,8,["size","icon","onClick"]),o(b,{title:`是否确认删除脚本编号为${d.id}的这条数据`,onConfirm:L=>e(B)(d)},{reference:t(()=>[o(n,{class:"reset-margin",circle:"",type:"danger",size:a,icon:e(r)(e(Z))},null,8,["size","icon"])]),_:2},1032,["title","onConfirm"])]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}});const Be=X(pe,[["__scopeId","data-v-37423cbc"]]);export{Be as default};
