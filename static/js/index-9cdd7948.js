import{d as Y,k as S,r,b as Z,o as $,c as V,e as o,j as l,f as e,aG as ee,h as i,w as oe,g as z,z as le,B as ne,M as y,_ as te}from"./index-9cea40a6.js";import{u as ae}from"./form.vue_vue_type_script_setup_true_lang-402076ad.js";import{D as re,P as ie}from"./delete-667b307a.js";import{u as s}from"./hooks-678b71c4.js";import{E as se}from"./edit-pen-af58ba35.js";import{d as ce}from"./search-cc37b371.js";import{R as de}from"./refresh-74425c09.js";import{A as me}from"./add-circle-line-438b436c.js";import{M as pe}from"./more-filled-c44d3178.js";import{d as ue}from"./ubuntu-fill-d092e084.js";import"./index-17695056.js";import"./corn-44f32457.js";import"./fileDetial-5eda83e3.js";import"./codeEditor-08c5f378.js";import"./log-82ff53a2.js";import"./dock-9ddcdacf.js";import"./hooks-a6049d28.js";import"./xdteam-5bf4004a.js";import"./useBasicLayout-7ee1042a.js";import"./epTheme-f381a1a7.js";const fe={width:1024,height:1024,body:'<path fill="currentColor" d="m174.72 855.68l130.048-43.392l23.424 11.392C382.4 849.984 444.352 864 512 864c223.744 0 384-159.872 384-352c0-192.832-159.104-352-384-352S128 319.168 128 512a341.12 341.12 0 0 0 69.248 204.288l21.632 28.8l-44.16 110.528zm-45.248 82.56A32 32 0 0 1 89.6 896l56.512-141.248A405.12 405.12 0 0 1 64 512C64 299.904 235.648 96 512 96s448 203.904 448 416s-173.44 416-448 416c-79.68 0-150.848-17.152-211.712-46.72l-170.88 56.96z"/>'},_e=fe,Ce={width:1024,height:1024,body:'<path fill="currentColor" d="M512 896a384 384 0 1 0 0-768a384 384 0 0 0 0 768zm0 64a448 448 0 1 1 0-896a448 448 0 0 1 0 896z"/><path fill="currentColor" d="M672 234.88c-39.168 174.464-80 298.624-122.688 372.48c-64 110.848-202.624 30.848-138.624-80C453.376 453.44 540.48 355.968 672 234.816z"/>'},ge=Ce,ye={class:"main"},be={key:0,class:"bg-[var(--el-fill-color-light)] w-full h-[46px] mb-2 pl-4 flex items-center"},he={class:"flex-auto"},ve={style:{"font-size":"var(--el-font-size-base)"},class:"text-[rgba(42,46,54,0.5)] dark:text-[rgba(220,220,242,0.5)]"},ke=Y({name:"SchedulerTask",__name:"index",setup(xe){const b=S(),h=S(),{form:c,loading:v,columns:R,dataList:D,selectedNum:k,pagination:P,buttonClass:C,onSearch:m,manyHandleRun:B,manyHandleStop:M,handleRun:N,handleStop:A,handleLog:E,resetForm:F,openDialog:x,exportExcel:T,handleDelete:U,onbatchDel:H,onSelectionCancel:I,handleSizeChange:K,handleCurrentChange:L,handleSelectionChange:j}=ae(h);return(we,t)=>{const G=r("el-input"),p=r("el-form-item"),u=r("el-option"),w=r("el-select"),a=r("el-button"),O=r("el-form"),f=r("el-popconfirm"),g=r("el-dropdown-item"),q=r("el-dropdown-menu"),J=r("el-dropdown"),Q=r("pure-table"),W=Z("motion-fade");return $(),V("div",ye,[o(O,{ref_key:"formRef",ref:b,inline:!0,model:e(c),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]"},{default:l(()=>[o(p,{label:"任务名称：",prop:"name"},{default:l(()=>[o(G,{modelValue:e(c).name,"onUpdate:modelValue":t[0]||(t[0]=n=>e(c).name=n),placeholder:"请输入关键词名称",clearable:"",class:"!w-[160px]",onKeyup:t[1]||(t[1]=ee(n=>e(m)(),["enter"]))},null,8,["modelValue"])]),_:1}),o(p,{label:"状态：",prop:"enable"},{default:l(()=>[o(w,{modelValue:e(c).enable,"onUpdate:modelValue":t[2]||(t[2]=n=>e(c).enable=n),placeholder:"请选择",clearable:"",class:"!w-[100px]",onChange:t[3]||(t[3]=n=>e(m)())},{default:l(()=>[o(u,{label:"已启用",value:!0}),o(u,{label:"已停用",value:!1})]),_:1},8,["modelValue"])]),_:1}),o(p,{label:"运行状态：",prop:"status"},{default:l(()=>[o(w,{modelValue:e(c).status,"onUpdate:modelValue":t[4]||(t[4]=n=>e(c).status=n),placeholder:"请选择",clearable:"",class:"!w-[100px]",onChange:t[5]||(t[5]=n=>e(m)())},{default:l(()=>[o(u,{label:"运行中",value:1}),o(u,{label:"空闲中",value:0})]),_:1},8,["modelValue"])]),_:1}),o(p,null,{default:l(()=>[o(a,{type:"primary",icon:e(s)(e(ce)),loading:e(v),onClick:e(m)},{default:l(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(a,{icon:e(s)(e(de)),onClick:t[6]||(t[6]=n=>e(F)(b.value))},{default:l(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(ie),{title:"任务列表",columns:e(R),onRefresh:e(m)},{buttons:l(()=>[o(a,{type:"primary",icon:e(s)(e(me)),onClick:t[7]||(t[7]=n=>e(x)())},{default:l(()=>[i(" 新增任务 ")]),_:1},8,["icon"]),o(a,{type:"success",onClick:e(T)},{default:l(()=>[i("导出")]),_:1},8,["onClick"])]),default:l(({size:n,dynamicColumns:X})=>[e(k)>0?oe(($(),V("div",be,[z("div",he,[z("span",ve," 已选 "+le(e(k))+" 项 ",1),o(a,{type:"primary",text:"",onClick:e(I)},{default:l(()=>[i(" 取消选择 ")]),_:1},8,["onClick"])]),o(f,{title:"是否确认运行?",onConfirm:e(B)},{reference:l(()=>[o(a,{type:"success",text:"",class:"mr-1"},{default:l(()=>[i(" 批量运行 ")]),_:1})]),_:1},8,["onConfirm"]),o(f,{title:"是否确认停止?",onConfirm:e(M)},{reference:l(()=>[o(a,{type:"warning",text:"",class:"mr-1"},{default:l(()=>[i(" 批量停止 ")]),_:1})]),_:1},8,["onConfirm"]),o(f,{title:"是否确认删除?",onConfirm:e(H)},{reference:l(()=>[o(a,{type:"danger",text:"",class:"mr-1"},{default:l(()=>[i(" 批量删除 ")]),_:1})]),_:1},8,["onConfirm"])])),[[W]]):ne("",!0),o(Q,{"row-key":"id",ref_key:"tableRef",ref:h,adaptive:"",stripe:"","align-whole":"center",showOverflowTooltip:"","table-layout":"auto",loading:e(v),size:n,data:e(D),columns:X,pagination:e(P),paginationSmall:n==="small","header-cell-style":{background:"var(--el-fill-color-light)",color:"var(--el-text-color-primary)"},onSelectionChange:e(j),onPageSizeChange:e(K),onPageCurrentChange:e(L)},{operation:l(({row:d})=>[o(a,{class:"reset-margin",circle:"",type:"primary",size:n,icon:e(s)(e(se)),onClick:_=>e(x)("编辑",d)},null,8,["size","icon","onClick"]),o(f,{title:`是否确认删除任务编号为${d.id}的这条数据`,onConfirm:_=>e(U)(d)},{reference:l(()=>[o(a,{class:"reset-margin",circle:"",type:"danger",size:n,icon:e(s)(e(re))},null,8,["size","icon"])]),_:2},1032,["title","onConfirm"]),o(J,null,{dropdown:l(()=>[o(q,null,{default:l(()=>[o(g,null,{default:l(()=>[o(a,{class:y(e(C)),link:"",type:"primary",size:n,icon:e(s)(e(ue)),onClick:_=>e(N)(d.id)},{default:l(()=>[i(" 运行脚本 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),o(g,null,{default:l(()=>[o(a,{class:y(e(C)),link:"",type:"primary",size:n,icon:e(s)(e(_e)),onClick:_=>e(E)(d.id)},{default:l(()=>[i(" 查看日志 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024),o(g,null,{default:l(()=>[o(a,{class:y(e(C)),link:"",type:"danger",size:n,icon:e(s)(e(ge)),onClick:_=>e(A)(d.id)},{default:l(()=>[i(" 停止脚本 ")]),_:2},1032,["class","size","icon","onClick"])]),_:2},1024)]),_:2},1024)]),default:l(()=>[o(a,{class:"ml-3 mt-[2px]",link:"",type:"primary",size:n,icon:e(s)(e(pe))},null,8,["size","icon"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","pagination","paginationSmall","header-cell-style","onSelectionChange","onPageSizeChange","onPageCurrentChange"])]),_:1},8,["columns","onRefresh"])])}}});const Ge=te(ke,[["__scopeId","data-v-395be879"]]);export{Ge as default};
