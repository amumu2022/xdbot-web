import{d as B,p as q,r as a,o as w,c as x,g as f,e as t,j as o,z as k,h as c,f as e,J as H,M as Q,_ as W,k as X,b as Y,aG as ee,w as j,a9 as te,F as A,v as oe,i as le,B as ne}from"./index-9cea40a6.js";import{M as ae}from"./more-2-fill-4bb0933c.js";import{u as S}from"./hooks-678b71c4.js";import{d as re}from"./search-cc37b371.js";import{R as de}from"./refresh-74425c09.js";import{A as ie}from"./add-circle-line-438b436c.js";import{useRole as se}from"./hook-7d29d43b.js";import"./form-a410b04b.js";/* empty css              */import"./codeEditor-08c5f378.js";import"./formPrimitive.vue_vue_type_script_setup_true_lang-c7783394.js";import"./index-17695056.js";import"./monitor-142346d2.js";import"./xdteam-5bf4004a.js";import"./useBasicLayout-7ee1042a.js";const ce={class:"list-card-item_detail bg-bg_color"},ue={class:"app-info"},pe={class:"list-card-item_detail--operation"},me={class:"app-download"},fe=B({name:"ReCardMax",__name:"CardMax",props:{product:{type:Object}},emits:["product-detial","product-update","product-stop","product-report","product-delete","product-download","product-install","product-edit"],setup(r,{emit:m}){const C=r,y=i=>{m("product-detial",i)},s=i=>{m("product-update",i)},p=i=>{m("product-stop",i)},h=i=>{m("product-report",i)},V=i=>{m("product-delete",i)},z=i=>{m("product-download",i)},R=i=>{m("product-install",i)},F=i=>{m("product-edit",i)},I=q(()=>["list-card-item",{"list-card-item__disabled":!C.product.enable}]),b=C.product.score;return(i,n)=>{const M=a("el-image"),P=a("el-tag"),U=a("IconifyIconOffline"),_=a("el-dropdown-item"),$=a("el-dropdown-menu"),L=a("el-dropdown"),l=a("el-row"),g=a("el-divider"),v=a("el-rate"),D=a("el-link");return w(),x("div",{class:Q(I.value),style:{"margin-left":"8px","margin-right":"8px"}},[f("div",ce,[t(l,{justify:"space-between"},{default:o(()=>[t(M,{style:{width:"80px",height:"80px","border-radius":"10px"},src:r.product.image},null,8,["src"]),f("div",ue,[f("h5",null,k(r.product.name),1),f("p",null,"版本："+k(r.product.version),1),f("p",null,"作者："+k(r.product.author),1),f("p",null,[c(" 类型："),t(P,{size:"small"},{default:o(()=>[c(k(r.product.type),1)]),_:1})])]),f("div",pe,[t(P,{color:r.product.enable?"#00a870":"#eee",effect:"dark",class:"mx-1 list-card-item_detail--operation--tag"},{default:o(()=>[c(k(r.product.enable?"已启用":"已停用"),1)]),_:1},8,["color"])]),t(L,{trigger:"click"},{dropdown:o(()=>[t($,null,{default:o(()=>[t(_,{onClick:n[0]||(n[0]=u=>F(r.product)),style:{color:"green"}},{default:o(()=>[c(" 编辑 ")]),_:1}),t(_,{onClick:n[1]||(n[1]=u=>y(r.product))},{default:o(()=>[c(" 简介 ")]),_:1}),t(_,{onClick:n[2]||(n[2]=u=>s(r.product)),style:{color:"green"}},{default:o(()=>[c(" 更新 ")]),_:1}),t(_,{onClick:n[3]||(n[3]=u=>p(r.product))},{default:o(()=>[c(k(r.product.enable?"停用":"启用"),1)]),_:1}),t(_,{onClick:n[4]||(n[4]=u=>V(r.product))},{default:o(()=>[c(" 卸载 ")]),_:1}),t(_,{onClick:n[5]||(n[5]=u=>h(r.product)),style:{color:"red"}},{default:o(()=>[c(" 举报 ")]),_:1})]),_:1})]),default:o(()=>[t(U,{icon:e(ae),class:"text-[24px]"},null,8,["icon"])]),_:1})]),_:1}),t(g),f("div",me,[t(l,{style:{display:"flex","align-items":"center","justify-content":"space-between"}},{default:o(()=>[t(v,{modelValue:e(b),"onUpdate:modelValue":n[6]||(n[6]=u=>H(b)?b.value=u:null),disabled:"","text-color":"#409EFF","show-score":"",color:"#409EFF"},null,8,["modelValue"]),t(g,{direction:"vertical"}),f("p",null,k(r.product.downloads),1),t(g,{direction:"vertical"}),t(D,{onClick:n[7]||(n[7]=u=>z(r.product)),target:"_blank"},{default:o(()=>[c("下载")]),_:1}),t(g,{direction:"vertical"}),t(D,{type:"warning",target:"_blank",onClick:n[8]||(n[8]=u=>R(r.product))},{default:o(()=>[c("安装")]),_:1})]),_:1})])])],2)}}});const ge=W(fe,[["__scopeId","data-v-2b40853f"]]),_e={width:24,height:24,body:'<path fill="currentColor" d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10Zm4.82-4.924a7 7 0 1 0-1.853 1.266l-.974-1.755A5 5 0 1 1 17 12h-3l2.82 5.076Z"/>'},Ce=_e,ve={class:"main"},ke=`
        <path class="path" d="
          M 30 15
          L 28 17
          M 25.61 25.61
          A 15 15, 0, 0, 1, 15 30
          A 15 15, 0, 1, 1, 27.99 7.5
          L 15 15
        " style="stroke-width: 4px; fill: rgba(0, 0, 0, 0)"/>
      `,Ue=B({name:"PluginsCenter",__name:"index",setup(r){const{onPageSizeChange:m,onSearch:C,productList:y,pagination:s,form:p,loading:h,resetForm:V,openDialog:z,onCurrentChange:R,handleClickDetial:F,handleClickUpdate:I,handleClickStop:b,handleClickReport:i,handleClickDelete:n,handleClickDownloads:M,handleClickInstall:P,handleClickEdit:U,funcRestart:_}=se(),$=X();return(L,l)=>{const g=a("el-button"),v=a("el-form-item"),D=a("el-input"),u=a("el-option"),E=a("el-select"),N=a("el-form"),O=a("el-empty"),K=a("el-col"),Z=a("el-row"),G=a("el-pagination"),J=Y("loading");return w(),x("div",ve,[f("div",null,[t(N,{ref_key:"formRef",ref:$,inline:!0,model:e(p),class:"search-form bg-bg_color w-[99/100] pl-8 pt-[12px]",style:{"margin-left":"10px","margin-right":"10px","margin-top":"20px","margin-bottom":"20px"}},{default:o(()=>[t(v,null,{default:o(()=>[t(g,{icon:e(S)(e(ie)),type:"success",onClick:l[0]||(l[0]=d=>e(z)())},{default:o(()=>[c(" 新建插件 ")]),_:1},8,["icon"]),t(g,{icon:e(S)(e(Ce)),type:"danger",onClick:l[1]||(l[1]=d=>e(_)())},{default:o(()=>[c(" 重启系统 ")]),_:1},8,["icon"])]),_:1}),t(v,{label:"插件名称：",prop:"name"},{default:o(()=>[t(D,{modelValue:e(p).name,"onUpdate:modelValue":l[2]||(l[2]=d=>e(p).name=d),placeholder:"请输入插件名称",clearable:"",class:"!w-[160px]",onKeyup:l[3]||(l[3]=ee(d=>e(C)(),["enter"]))},null,8,["modelValue"])]),_:1}),t(v,{label:"状态：",prop:"enable"},{default:o(()=>[t(E,{modelValue:e(p).enable,"onUpdate:modelValue":l[4]||(l[4]=d=>e(p).enable=d),placeholder:"请选择",clearable:"",class:"!w-[160px]",onChange:l[5]||(l[5]=d=>e(C)())},{default:o(()=>[t(u,{label:"已启用",value:"1"}),t(u,{label:"已停用",value:"0"})]),_:1},8,["modelValue"])]),_:1}),t(v,{label:"安装情况：",prop:"installed"},{default:o(()=>[t(E,{modelValue:e(p).installed,"onUpdate:modelValue":l[6]||(l[6]=d=>e(p).installed=d),placeholder:"请选择",clearable:"",class:"!w-[160px]",onChange:l[7]||(l[7]=d=>e(C)())},{default:o(()=>[t(u,{label:"已安装",value:"1"}),t(u,{label:"全部插件",value:"0"})]),_:1},8,["modelValue"])]),_:1}),t(v,null,{default:o(()=>[t(g,{type:"primary",icon:e(S)(e(re)),loading:e(h),onClick:e(C)},{default:o(()=>[c(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),t(g,{icon:e(S)(e(de)),onClick:l[8]||(l[8]=d=>e(V)($.value))},{default:o(()=>[c(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])]),j((w(),x("div",{"element-loading-svg":ke,"element-loading-svg-view-box":"-10, -10, 50, 50"},[j(t(O,{description:"暂无数据"},null,512),[[te,e(y).slice(e(s).pageSize*(e(s).current-1),e(s).pageSize*e(s).current).filter(d=>d.name.toLowerCase().includes(e(p).name.toLowerCase())).length===0]]),e(s).total>0?(w(),x(A,{key:0},[t(Z,null,{default:o(()=>[(w(!0),x(A,null,oe(e(y).slice(e(s).pageSize*(e(s).current-1),e(s).pageSize*e(s).current).filter(d=>d.name.toLowerCase().includes(e(p).name.toLowerCase())),(d,T)=>(w(),le(K,{key:T,xs:24,sm:12,md:8,lg:6,xl:4},{default:o(()=>[t(ge,{product:d,onProductDetial:e(F),onProductUpdate:e(I),onProductStop:e(b),onProductReport:e(i),onProductDelete:e(n),onProductDownload:e(M),onProductInstall:e(P),onProductEdit:e(U)},null,8,["product","onProductDetial","onProductUpdate","onProductStop","onProductReport","onProductDelete","onProductDownload","onProductInstall","onProductEdit"])]),_:2},1024))),128))]),_:1}),t(G,{class:"float-right",style:{margin:"30px"},currentPage:e(s).current,"onUpdate:currentPage":l[9]||(l[9]=d=>e(s).current=d),"page-size":e(s).pageSize,total:e(s).total,"page-sizes":[12,24,36],background:!0,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e(m),onCurrentChange:e(R)},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"])],64)):ne("",!0)])),[[J,e(h)]])])}}});export{Ue as default};
