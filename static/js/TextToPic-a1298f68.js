import{U as E,b as G}from"./dock-9ddcdacf.js";import{A as q}from"./api-931dde9e.js";import{d as H,k as p,O as J,am as K,r as s,o as d,i as Q,j as n,e as l,h as _,c as m,F as v,v as x,g as r,z as U,f as b,S as g,_ as W}from"./index-9cea40a6.js";import{u as P}from"./hooks-678b71c4.js";import{R as X}from"./refresh-74425c09.js";import{S as Y}from"./save-3-fill-02caf019.js";const Z={style:{display:"flex","align-items":"center"}},ee={style:{"margin-left":"20px"},class:"text-base text-gray-800"},le={style:{display:"flex","align-items":"center"}},te={style:{"margin-left":"20px"},class:"text-base text-gray-800"},oe={style:{display:"flex","align-items":"center"}},ae={style:{"margin-left":"20px"},class:"text-base text-gray-800"},ne={class:"demo-image__lazy"},se=H({__name:"TextToPic",props:{formInline:{default:()=>({text2pic:{font:{model:1,font_type:"1",font_color:"#000000",line_color:"#000000",bg_color:"#FFFFFF"},text:{center:1,convert_link:1,word_limit:54}}})}},setup(R){const e=p(R.formInline),S=[{value:1,label:"动漫居左"},{value:2,label:"黑白简约"},{value:3,label:"紫色韵味"},{value:4,label:"浅黄回忆"},{value:5,label:"随机变幻"},{value:6,label:"自在彩虹"},{value:7,label:"花开四季"},{value:8,label:"白色商务"},{value:9,label:"自由配色"},{value:10,label:"MC相随"}],z=[{value:"1",label:"微软雅黑"},{value:"2",label:"楷体"},{value:"simhei",label:"宋体"},{value:"4",label:"黑体"}],k=[{value:1,label:"已开启"},{value:0,label:"已关闭"}],y=p(["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94)","hsla(209, 100%, 56%)","#c7158577"]),T=p([]),w=p("https://fuss10.elemecdn.com/3/28/bbf893f792f03a54408b3b7a7ebf0jpeg.jpeg"),V=p(`测试文本测试文本
测试文本测试文本
测试文本测试文本
测试文本测试文本
测试文本测试文本`);J(w,c=>{T.value=[c]});async function D(){const c={name:"text2pic",data:e.value.text2pic},t=await E("text2pic",c);t.success?(g(t.message,{type:"success"}),C()):g(`操作失败，${t.message}`,{type:"warning"})}async function O(){const c={model:e.value.text2pic.font.model,font_type:e.value.text2pic.font.font_type,font_color:e.value.text2pic.font.font_color,line_color:e.value.text2pic.font.line_color,bg_color:e.value.text2pic.font.bg_color,center:e.value.text2pic.text.center,convert_link:e.value.text2pic.text.convert_link,word_limit:e.value.text2pic.text.word_limit,text:V.value},t=await q(c);t.success?(w.value=t.data,g(t.message,{type:"success"})):g(`操作失败，${t.message}`,{type:"warning"})}async function C(){const c={name:"text2pic"},{data:t}=await G(c);if(t.length!=0){const o=t[0].data;e.value.text2pic={font:{model:o==null?void 0:o.font.model,font_type:o==null?void 0:o.font.font_type,font_color:o==null?void 0:o.font.font_color,line_color:o==null?void 0:o.font.line_color,bg_color:o==null?void 0:o.font.bg_color},text:{center:o==null?void 0:o.text.center,convert_link:o==null?void 0:o.text.convert_link,word_limit:o==null?void 0:o.text.word_limit}}}}async function j(){e.value.text2pic={font:{model:1,font_type:"1",font_color:"#000000",line_color:"#000000",bg_color:"#FFFFFF"},text:{center:1,convert_link:1,word_limit:54}}}return K(()=>{C()}),(c,t)=>{const o=s("el-option"),f=s("el-select"),i=s("el-form-item"),M=s("el-input-number"),h=s("el-color-picker"),F=s("el-button"),B=s("el-card"),I=s("el-col"),N=s("el-input"),A=s("el-image"),L=s("el-row"),$=s("el-form");return d(),Q($,{model:e.value,"label-width":"82px"},{default:n(()=>[l(L,{gutter:20},{default:n(()=>[l(I,{md:12,sm:12,xs:24},{default:n(()=>[l(B,{shadow:"hover",class:"grid-spacing"},{header:n(()=>[_(" 参数设置 ")]),default:n(()=>[l(i,{label:"模板选择：",prop:"model"},{default:n(()=>[l(f,{modelValue:e.value.text2pic.font.model,"onUpdate:modelValue":t[0]||(t[0]=a=>e.value.text2pic.font.model=a),class:"full-width-input",clearable:"",placeholder:"请选择模板"},{default:n(()=>[(d(),m(v,null,x(S,(a,u)=>l(o,{key:u,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"字体选择：",prop:"font_type"},{default:n(()=>[l(f,{modelValue:e.value.text2pic.font.font_type,"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.text2pic.font.font_type=a),class:"full-width-input",clearable:"",placeholder:"请选择字体"},{default:n(()=>[(d(),m(v,null,x(z,(a,u)=>l(o,{key:u,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"是否居中：",prop:"center"},{default:n(()=>[l(f,{modelValue:e.value.text2pic.text.center,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.text2pic.text.center=a),class:"full-width-input",clearable:"",placeholder:"请选择"},{default:n(()=>[(d(),m(v,null,x(k,(a,u)=>l(o,{key:u,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"转换链接：",prop:"convert_link"},{default:n(()=>[l(f,{modelValue:e.value.text2pic.text.convert_link,"onUpdate:modelValue":t[3]||(t[3]=a=>e.value.text2pic.text.convert_link=a),class:"full-width-input",clearable:"",placeholder:"请选择"},{default:n(()=>[(d(),m(v,null,x(k,(a,u)=>l(o,{key:u,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"每行字数：",prop:"word_limit"},{default:n(()=>[l(M,{modelValue:e.value.text2pic.text.word_limit,"onUpdate:modelValue":t[4]||(t[4]=a=>e.value.text2pic.text.word_limit=a),min:1,max:1999999999},null,8,["modelValue"])]),_:1}),l(i,{label:"字体颜色：",prop:"font_color"},{default:n(()=>[r("div",Z,[l(h,{modelValue:e.value.text2pic.font.font_color,"onUpdate:modelValue":t[5]||(t[5]=a=>e.value.text2pic.font.font_color=a),predefine:y.value},null,8,["modelValue","predefine"]),r("span",ee,U(e.value.text2pic.font.font_color),1)])]),_:1}),l(i,{label:"背景颜色：",prop:"bg_color"},{default:n(()=>[r("div",le,[l(h,{modelValue:e.value.text2pic.font.bg_color,"onUpdate:modelValue":t[6]||(t[6]=a=>e.value.text2pic.font.bg_color=a),predefine:y.value},null,8,["modelValue","predefine"]),r("span",te,U(e.value.text2pic.font.bg_color),1)])]),_:1}),l(i,{label:"线条颜色：",prop:"line_color"},{default:n(()=>[r("div",oe,[l(h,{modelValue:e.value.text2pic.font.line_color,"onUpdate:modelValue":t[7]||(t[7]=a=>e.value.text2pic.font.line_color=a),predefine:y.value},null,8,["modelValue","predefine"]),r("span",ae,U(e.value.text2pic.font.line_color),1)])]),_:1}),l(F,{type:"success",icon:b(P)(b(Y)),onClick:D},{default:n(()=>[_(" 保存配置 ")]),_:1},8,["icon"]),l(F,{type:"warning",icon:b(P)(b(X)),onClick:j},{default:n(()=>[_(" 恢复默认 ")]),_:1},8,["icon"])]),_:1})]),_:1}),l(I,{md:12,sm:12,xs:24},{default:n(()=>[l(B,{shadow:"hover",class:"grid-spacing"},{header:n(()=>[_(" 颜色工具 ")]),default:n(()=>[l(i,{label:"测试文本：",prop:"text"},{default:n(()=>[l(N,{modelValue:V.value,"onUpdate:modelValue":t[8]||(t[8]=a=>V.value=a),autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"请输入测试文本"},null,8,["modelValue"])]),_:1}),l(F,{type:"success",onClick:O},{default:n(()=>[_(" 生成预览图")]),_:1}),r("div",ne,[l(A,{src:w.value,lazy:"","preview-src-list":T.value},null,8,["src","preview-src-list"])])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])}}});const fe=W(se,[["__scopeId","data-v-6e01857f"]]);export{fe as default};
